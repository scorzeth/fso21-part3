{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","persons","getAll","axios","get","then","response","data","create","newPerson","post","remove","id","delete","update","put","Filter","filter","handleFilter","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","removePerson","name","number","onClick","event","Persons","toLowerCase","includes","map","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","fail","style","App","useState","setPersons","setFilter","setNewName","setNewNumber","setMessage","isFailMessage","setIsFailMessage","useEffect","personService","initialPersons","target","preventDefault","findIndex","find","p","window","confirm","updatedPerson","returnedPerson","setTimeout","catch","error","updatePerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5cea6bc5.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\n    return request.then(response => response.data)\n}\n\nconst persons = {\n    getAll,\n    create,\n    remove,\n    update\n}\n\nexport default persons","import React from 'react'\n\nconst Filter = ({ filter, handleFilter }) => {\n  \n  return (\n    <div>\n      Filter by name\n      <input \n        value={filter} \n        onChange={handleFilter}\n      />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: \n        <input \n          value={newName} \n          onChange={handleNameChange} \n          />\n      </div>\n      <div>\n        number:\n        <input \n          value={newNumber} \n          onChange={handleNumberChange} \n          />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, removePerson }) => {\n  return (\n    <div>\n      {person.name} {person.number}\n      <button onClick={(event) => removePerson(event, person)}>delete</button>\n    </div>\n  )\n}\n\nconst Persons = ({ persons, filter, removePerson }) => {\n  return (\n    <div>\n      {persons\n      .filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n      .map(person => <Person key={person.name} person={person} removePerson={removePerson} />)}\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message, fail }) => {\n    const notificationStyle = {\n      color: 'green',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10\n    }\n    if (fail) {\n      notificationStyle.color = 'red'\n    }\n\n    if (message === null) {\n      return null\n    }\n    return (\n      <div>\n        <br />\n        <div style={notificationStyle}>\n          {message}\n        </div>\n      </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ filter, setFilter ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ isFailMessage, setIsFailMessage ] = useState(false)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n  \n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = (person) => {\n    personService\n      .create(person)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setIsFailMessage(false)\n        setMessage(\n          `Added ${returnedPerson.name}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n  }\n\n  const updatePerson = (person) => {\n    const updatedPerson = { ...person, number: newNumber }\n    personService\n      .update(person.id, updatedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n        setIsFailMessage(false)\n        setMessage(\n          `Updated ${returnedPerson.name}'s number to ${returnedPerson.number}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setIsFailMessage(true)\n        setMessage(\n          `${newName} was already deleted from the server`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setPersons(persons.filter(p => p.id !== person.id))\n      })\n  }\n\n  const addEntry = (event) => {\n    event.preventDefault()\n    if (newName !== '') {\n      if (persons.findIndex(person => person.name === newName) !== -1) {\n        const person = persons.find(p => p.name === newName)\n        if (window.confirm(`${newName} has already been added to the phonebook, replace the old number with a new one?`)) {\n          updatePerson(person)\n        }\n      } else {\n        const person = { name: newName, number: newNumber }\n        addPerson(person)\n      }\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n\n  const removePerson = (event, person) => {\n    event.preventDefault()\n    if (window.confirm(`Delete '${person.name}'?`)) {\n      personService\n        .remove(person.id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter filter={filter}\n        handleFilter={handleFilter}\n      />\n      <h3>Add a new entry</h3>\n      <PersonForm addPerson={addEntry}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <Notification message={message} \n        fail={isFailMessage}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} \n        filter={filter} \n        removePerson={removePerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}